diff --git a/frameworks/qt/3rdparty/qmapcontrol/QMapControl.lmk b/frameworks/qt/3rdparty/qmapcontrol/QMapControl.lmk
old mode 100644
new mode 100755
index eb28230..4712435
--- a/frameworks/qt/3rdparty/qmapcontrol/QMapControl.lmk
+++ b/frameworks/qt/3rdparty/qmapcontrol/QMapControl.lmk
@@ -19,9 +19,11 @@ lmk.add_files {
    "mapcontrol.h",
    "maplayer.h",
    "mapnetwork.h",
+   "openaerialmapadapter.h",
    "osmmapadapter.h",
    "point.h",
    "qmapcontrol.h",
+   "qmapcontrolexport.h",
    "tilemapadapter.h",
    "wmsmapadapter.h",
    "yahoomapadapter.h",
@@ -41,6 +43,7 @@ lmk.add_files ({
    "mapcontrol.h",
    "maplayer.h",
    "mapnetwork.h",
+   "openaerialmapadapter.h",
    "osmmapadapter.h",
    "point.h",
    "tilemapadapter.h",
@@ -65,6 +68,7 @@ lmk.add_files {
    "mapcontrol.cpp",
    "maplayer.cpp",
    "mapnetwork.cpp",
+   "openaerialmapadapter.cpp",
    "osmmapadapter.cpp",
    "point.cpp",
    "tilemapadapter.cpp",
@@ -73,3 +77,7 @@ lmk.add_files {
 }
 
 lmkQt.add_libs {"QtCore","QtGui","QtNetwork",}
+
+lmk.add_vars ({
+   localDefines = "$(lmk.defineFlag)QMAPCONTROL_EXPORT"
+}, {win32 = true})
diff --git a/frameworks/qt/3rdparty/qmapcontrol/circlepoint.h b/frameworks/qt/3rdparty/qmapcontrol/circlepoint.h
old mode 100644
new mode 100755
index 9c90be2..ac96e88
--- a/frameworks/qt/3rdparty/qmapcontrol/circlepoint.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/circlepoint.h
@@ -25,7 +25,7 @@
 
 #ifndef CIRCLEPOINT_H
 #define CIRCLEPOINT_H
-
+#include <qmapcontrolexport.h>
 #include "point.h"
 
 namespace qmapcontrol
@@ -37,7 +37,7 @@ namespace qmapcontrol
      *
      * @author Kai Winter <kaiwinter@gmx.de>
      */
-    class CirclePoint : public Point
+    class QMAPCONTROL_LINK_SYMBOL CirclePoint : public Point
     {
     public:
         //!
diff --git a/frameworks/qt/3rdparty/qmapcontrol/curve.h b/frameworks/qt/3rdparty/qmapcontrol/curve.h
old mode 100644
new mode 100755
index 5a71c01..33b6e25
--- a/frameworks/qt/3rdparty/qmapcontrol/curve.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/curve.h
@@ -25,7 +25,7 @@
 
 #ifndef CURVE_H
 #define CURVE_H
-
+#include <qmapcontrolexport.h>
 #include "geometry.h"
 #include "point.h"
 
@@ -42,7 +42,7 @@ namespace qmapcontrol
      * LineString, which uses a linear interpolation between Points."
      *	@author Kai Winter <kaiwinter@gmx.de>
      */
-    class Curve : public Geometry
+    class QMAPCONTROL_LINK_SYMBOL Curve : public Geometry
     {
         Q_OBJECT
     public:
diff --git a/frameworks/qt/3rdparty/qmapcontrol/fixedimageoverlay.h b/frameworks/qt/3rdparty/qmapcontrol/fixedimageoverlay.h
old mode 100644
new mode 100755
index 6d154af..2be46a6
--- a/frameworks/qt/3rdparty/qmapcontrol/fixedimageoverlay.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/fixedimageoverlay.h
@@ -25,7 +25,7 @@
 
 #ifndef FIXEDIMAGEOVERLAY_H
 #define FIXEDIMAGEOVERLAY_H
-
+#include <qmapcontrolexport.h>
 #include "imagepoint.h"
 
 namespace qmapcontrol
@@ -39,7 +39,7 @@ namespace qmapcontrol
      *
      * @author Kai Winter <kaiwinter@gmx.de>
      */
-    class FixedImageOverlay : public ImagePoint
+    class QMAPCONTROL_LINK_SYMBOL FixedImageOverlay : public ImagePoint
     {
     public:
        //! Creates an image overlay which loads and displays the given image file
diff --git a/frameworks/qt/3rdparty/qmapcontrol/geometry.h b/frameworks/qt/3rdparty/qmapcontrol/geometry.h
old mode 100644
new mode 100755
index 999a168..46550a2
--- a/frameworks/qt/3rdparty/qmapcontrol/geometry.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/geometry.h
@@ -25,6 +25,7 @@
 
 #ifndef GEOMETRY_H
 #define GEOMETRY_H
+#include <qmapcontrolexport.h>
 #include <QtCore/QObject>
 #include <QtGui/QPainter>
 #include <QtCore/QDebug>
@@ -43,7 +44,7 @@ namespace qmapcontrol
      *
      *	@author Kai Winter <kaiwinter@gmx.de>
      */
-    class Geometry : public QObject
+    class QMAPCONTROL_LINK_SYMBOL Geometry : public QObject
     {
         friend class LineString;
         Q_OBJECT
diff --git a/frameworks/qt/3rdparty/qmapcontrol/geometrylayer.h b/frameworks/qt/3rdparty/qmapcontrol/geometrylayer.h
old mode 100644
new mode 100755
index 93bda47..21fb52d
--- a/frameworks/qt/3rdparty/qmapcontrol/geometrylayer.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/geometrylayer.h
@@ -25,7 +25,7 @@
 
 #ifndef GEOMETRYLAYER_H
 #define GEOMETRYLAYER_H
-
+#include <qmapcontrolexport.h>
 #include "layer.h"
 
 namespace qmapcontrol
@@ -44,7 +44,7 @@ namespace qmapcontrol
          *
          *	@author Kai Winter <kaiwinter@gmx.de>
          */
-    class GeometryLayer : public Layer
+    class QMAPCONTROL_LINK_SYMBOL GeometryLayer : public Layer
     {
         Q_OBJECT
 
diff --git a/frameworks/qt/3rdparty/qmapcontrol/googlemapadapter.h b/frameworks/qt/3rdparty/qmapcontrol/googlemapadapter.h
old mode 100644
new mode 100755
index 46ceea7..4ec950f
--- a/frameworks/qt/3rdparty/qmapcontrol/googlemapadapter.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/googlemapadapter.h
@@ -25,7 +25,7 @@
 
 #ifndef GOOGLEMAPADAPTER_H
 #define GOOGLEMAPADAPTER_H
-
+#include <qmapcontrolexport.h>
 #include "tilemapadapter.h"
 
 namespace qmapcontrol
@@ -35,7 +35,7 @@ namespace qmapcontrol
      * This is a conveniece class, which extends and configures a TileMapAdapter
      *	@author Kai Winter <kaiwinter@gmx.de>
      */
-    class GoogleMapAdapter : public TileMapAdapter
+    class QMAPCONTROL_LINK_SYMBOL GoogleMapAdapter : public TileMapAdapter
     {
         Q_OBJECT
 
diff --git a/frameworks/qt/3rdparty/qmapcontrol/googlesatmapadapter.cpp b/frameworks/qt/3rdparty/qmapcontrol/googlesatmapadapter.cpp
index 602b818..61451b0 100755
--- a/frameworks/qt/3rdparty/qmapcontrol/googlesatmapadapter.cpp
+++ b/frameworks/qt/3rdparty/qmapcontrol/googlesatmapadapter.cpp
@@ -25,6 +25,10 @@
 
 #include "googlesatmapadapter.h"
 
+#ifndef _USE_MATH_DEFINES
+#define _USE_MATH_DEFINES 1
+#endif
+
 #include <math.h>
 namespace qmapcontrol
 {
diff --git a/frameworks/qt/3rdparty/qmapcontrol/googlesatmapadapter.h b/frameworks/qt/3rdparty/qmapcontrol/googlesatmapadapter.h
index c6b0395..4056898 100755
--- a/frameworks/qt/3rdparty/qmapcontrol/googlesatmapadapter.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/googlesatmapadapter.h
@@ -25,7 +25,7 @@
 
 #ifndef GOOGLESATMAPADAPTER_H
 #define GOOGLESATMAPADAPTER_H
-
+#include <qmapcontrolexport.h>
 #include "mapadapter.h"
 namespace qmapcontrol
 {
@@ -34,7 +34,7 @@ namespace qmapcontrol
      * This is a conveniece class, which extends and configures a TileMapAdapter
      *	@author Kai Winter <kaiwinter@gmx.de>
      */
-    class GoogleSatMapAdapter : public MapAdapter
+    class QMAPCONTROL_LINK_SYMBOL GoogleSatMapAdapter : public MapAdapter
     {
         Q_OBJECT
     public:
diff --git a/frameworks/qt/3rdparty/qmapcontrol/gps_position.h b/frameworks/qt/3rdparty/qmapcontrol/gps_position.h
old mode 100644
new mode 100755
index e906705..b22c73d
--- a/frameworks/qt/3rdparty/qmapcontrol/gps_position.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/gps_position.h
@@ -25,7 +25,7 @@
 
 #ifndef GPS_POSITION_H
 #define GPS_POSITION_H
-
+#include <qmapcontrolexport.h>
 #include <QtCore/QString>
 
 namespace qmapcontrol
@@ -36,7 +36,7 @@ namespace qmapcontrol
      * This is not fully integrated in the API. An example which uses this data type can be found under Samples.
      * @author Kai Winter
      */
-    class GPS_Position
+    class QMAPCONTROL_LINK_SYMBOL GPS_Position
     {
     public:
         GPS_Position(float time, float longitude, QString longitude_dir, float latitude, QString latitude_dir);
diff --git a/frameworks/qt/3rdparty/qmapcontrol/imagemanager.h b/frameworks/qt/3rdparty/qmapcontrol/imagemanager.h
old mode 100644
new mode 100755
index 8b1b800..a7aecd0
--- a/frameworks/qt/3rdparty/qmapcontrol/imagemanager.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/imagemanager.h
@@ -25,7 +25,7 @@
 
 #ifndef IMAGEMANAGER_H
 #define IMAGEMANAGER_H
-
+#include <qmapcontrolexport.h>
 #include <QtCore/QObject>
 #include <QtGui/QPixmapCache>
 #include <QtCore/QDebug>
@@ -41,7 +41,7 @@ namespace qmapcontrol
     /**
     @author Kai Winter <kaiwinter@gmx.de>
      */
-    class ImageManager : public QObject
+    class QMAPCONTROL_LINK_SYMBOL ImageManager : public QObject
     {
         Q_OBJECT;
 
diff --git a/frameworks/qt/3rdparty/qmapcontrol/imagepoint.h b/frameworks/qt/3rdparty/qmapcontrol/imagepoint.h
old mode 100644
new mode 100755
index dde2b9b..a4db1c9
--- a/frameworks/qt/3rdparty/qmapcontrol/imagepoint.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/imagepoint.h
@@ -25,7 +25,7 @@
 
 #ifndef IMAGEPOINT_H
 #define IMAGEPOINT_H
-
+#include <qmapcontrolexport.h>
 #include "point.h"
 
 namespace qmapcontrol
@@ -38,7 +38,7 @@ namespace qmapcontrol
      *
      * @author Kai Winter <kaiwinter@gmx.de>
      */
-    class ImagePoint : public Point
+    class QMAPCONTROL_LINK_SYMBOL ImagePoint : public Point
     {
     public:
         //! Creates a point which loads and displays the given image file
diff --git a/frameworks/qt/3rdparty/qmapcontrol/layer.cpp b/frameworks/qt/3rdparty/qmapcontrol/layer.cpp
old mode 100644
new mode 100755
index ee4f841..071672c
--- a/frameworks/qt/3rdparty/qmapcontrol/layer.cpp
+++ b/frameworks/qt/3rdparty/qmapcontrol/layer.cpp
@@ -254,7 +254,7 @@ namespace qmapcontrol
             if (mapAdapter->isValid(i, j, mapAdapter->currentZoom()))
                 ImageManager::instance()->prefetchImage(mapAdapter->host(), mapAdapter->query(i, j, mapAdapter->currentZoom()));
         }
-        int i = left;
+        i = left;
         for (int j=upper+1; j<=lower-1; j++)
         {
             if (mapAdapter->isValid(i, j, mapAdapter->currentZoom()))
diff --git a/frameworks/qt/3rdparty/qmapcontrol/layer.h b/frameworks/qt/3rdparty/qmapcontrol/layer.h
old mode 100644
new mode 100755
index 7fb8478..e4d63cb
--- a/frameworks/qt/3rdparty/qmapcontrol/layer.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/layer.h
@@ -25,7 +25,7 @@
 
 #ifndef LAYER_H
 #define LAYER_H
-
+#include <qmapcontrolexport.h>
 #include <QtCore/QObject>
 #include <QtCore/QDebug>
 #include <QtGui/QPainter>
@@ -56,7 +56,7 @@ namespace qmapcontrol
      *
      *	@author Kai Winter <kaiwinter@gmx.de>
      */
-    class Layer : public QObject
+    class QMAPCONTROL_LINK_SYMBOL Layer : public QObject
     {
         Q_OBJECT
 
@@ -131,9 +131,19 @@ namespace qmapcontrol
 
         void setMapAdapter(MapAdapter* mapadapter);
 
-        Layer& operator=(const Layer& rhs);
-        Layer(const Layer& old);
+    signals:
+        //! This signal is emitted when a Geometry is clicked
+        /*!
+         * A Geometry is clickable, if the containing layer is clickable.
+         * The layer emits a signal for every clicked geometry
+         * @param  geometry The clicked Geometry
+         * @param  point The coordinate (in widget coordinates) of the click
+         */
+        void geometryClicked(Geometry* geometry, QPoint point);
 
+        void updateRequest(QRectF rect);
+        void updateRequest();
+        
     private:
         void moveWidgets(const QPoint mapmiddle_px) const;
         void drawYourImage(QPainter* painter, const QPoint mapmiddle_px) const;
@@ -157,18 +167,8 @@ namespace qmapcontrol
         bool takeevents;
         mutable QRect myoffscreenViewport;
 
-    signals:
-        //! This signal is emitted when a Geometry is clicked
-        /*!
-         * A Geometry is clickable, if the containing layer is clickable.
-         * The layer emits a signal for every clicked geometry
-         * @param  geometry The clicked Geometry
-         * @param  point The coordinate (in widget coordinates) of the click
-         */
-        void geometryClicked(Geometry* geometry, QPoint point);
-
-        void updateRequest(QRectF rect);
-        void updateRequest();
+        Layer& operator=(const Layer& rhs);
+        Layer(const Layer& old);
 
     public slots:
         //! if visible is true, the layer is made visible
diff --git a/frameworks/qt/3rdparty/qmapcontrol/layermanager.h b/frameworks/qt/3rdparty/qmapcontrol/layermanager.h
old mode 100644
new mode 100755
index 1bed2e7..6298d7d
--- a/frameworks/qt/3rdparty/qmapcontrol/layermanager.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/layermanager.h
@@ -25,7 +25,7 @@
 
 #ifndef LAYERMANAGER_H
 #define LAYERMANAGER_H
-
+#include <qmapcontrolexport.h>
 #include <QtCore/QObject>
 #include <QtCore/QMap>
 #include <QtCore/QMutex>
@@ -49,7 +49,7 @@ namespace qmapcontrol
      * It initiates the creation of a new offscreen image and on zooming the zoom images gets here created.
      *	@author Kai Winter <kaiwinter@gmx.de>
      */
-    class LayerManager : public QObject
+    class QMAPCONTROL_LINK_SYMBOL LayerManager : public QObject
     {
         Q_OBJECT
 
diff --git a/frameworks/qt/3rdparty/qmapcontrol/linestring.h b/frameworks/qt/3rdparty/qmapcontrol/linestring.h
old mode 100644
new mode 100755
index f00a585..e000ce6
--- a/frameworks/qt/3rdparty/qmapcontrol/linestring.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/linestring.h
@@ -25,7 +25,7 @@
 
 #ifndef LINESTRING_H
 #define LINESTRING_H
-
+#include <qmapcontrolexport.h>
 #include "curve.h"
 
 namespace qmapcontrol
@@ -35,7 +35,7 @@ namespace qmapcontrol
      * A LineString is a Curve with linear interpolation between Points. Each consecutive pair of Points defines a Line segment.
      *	@author Kai Winter <kaiwinter@gmx.de>
      */
-    class LineString : public Curve
+    class QMAPCONTROL_LINK_SYMBOL LineString : public Curve
     {
         Q_OBJECT
 
diff --git a/frameworks/qt/3rdparty/qmapcontrol/mapadapter.h b/frameworks/qt/3rdparty/qmapcontrol/mapadapter.h
old mode 100644
new mode 100755
index de107d8..44c2cef
--- a/frameworks/qt/3rdparty/qmapcontrol/mapadapter.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/mapadapter.h
@@ -25,7 +25,7 @@
 
 #ifndef MAPADAPTER_H
 #define MAPADAPTER_H
-
+#include <qmapcontrolexport.h>
 #include <QtCore/QObject>
 #include <QtCore/QSize>
 #include <QtCore/QPoint>
@@ -51,7 +51,7 @@ namespace qmapcontrol
      *
      *	@author Kai Winter <kaiwinter@gmx.de>
      */
-    class MapAdapter : public QObject
+    class QMAPCONTROL_LINK_SYMBOL MapAdapter : public QObject
     {
         friend class Layer;
 
diff --git a/frameworks/qt/3rdparty/qmapcontrol/mapcontrol.cpp b/frameworks/qt/3rdparty/qmapcontrol/mapcontrol.cpp
old mode 100644
new mode 100755
index f958a4c..b723a11
--- a/frameworks/qt/3rdparty/qmapcontrol/mapcontrol.cpp
+++ b/frameworks/qt/3rdparty/qmapcontrol/mapcontrol.cpp
@@ -157,7 +157,7 @@ namespace qmapcontrol
             if (currentZoom() >= 0 && distanceList.size() > currentZoom())
             {
                 double line;
-                line = distanceList.at( currentZoom() ) / pow(2, 18-currentZoom() ) / 0.597164;
+                line = distanceList.at( currentZoom() ) / pow(2.0, 18-currentZoom() ) / 0.597164;
 
                 // draw the scale
                 painter.setPen(Qt::black);
diff --git a/frameworks/qt/3rdparty/qmapcontrol/mapcontrol.h b/frameworks/qt/3rdparty/qmapcontrol/mapcontrol.h
old mode 100644
new mode 100755
index 54b5a32..a910c7a
--- a/frameworks/qt/3rdparty/qmapcontrol/mapcontrol.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/mapcontrol.h
@@ -25,7 +25,7 @@
 
 #ifndef MAPCONTROL_H
 #define MAPCONTROL_H
-
+#include <qmapcontrolexport.h>
 #include <QtGui/QWidget>
 
 #include "layermanager.h"
@@ -50,7 +50,7 @@ namespace qmapcontrol
      *
      * @author Kai Winter <kaiwinter@gmx.de>
      */
-    class MapControl : public QWidget
+    class QMAPCONTROL_LINK_SYMBOL MapControl : public QWidget
     {
         Q_OBJECT
 
@@ -217,36 +217,7 @@ namespace qmapcontrol
         //DMZ
         QPointF screenToWorldCoordinate (const QPoint &Screen);
         QPoint worldCoordinateToScreen (const QPointF &Coordinate);
-
-    private:
-        LayerManager* layermanager;
-        QPoint screen_middle; // middle of the widget (half size)
-
-        QPoint pre_click_px; // used for scrolling (MouseMode Panning)
-        QPoint current_mouse_pos; // used for scrolling and dragging (MouseMode Panning/Dragging)
-
-        QSize size; // size of the widget
-
-        bool mousepressed;
-        MouseMode mymousemode;
-        bool scaleVisible;
-
-        bool m_loadingFlag;
-
-        QMutex moveMutex; // used for method moveTo()
-        QPointF target; // used for method moveTo()
-        int steps; // used for method moveTo()
-
-        QPointF clickToWorldCoordinate ( QPoint click );
-        MapControl& operator= ( const MapControl& rhs );
-        MapControl ( const MapControl& old );
-
-    protected:
-        void paintEvent ( QPaintEvent* evnt );
-        void mousePressEvent ( QMouseEvent* evnt );
-        void mouseReleaseEvent ( QMouseEvent* evnt );
-        void mouseMoveEvent ( QMouseEvent* evnt );
-
+        
     signals:
         // void mouseEvent(const QMouseEvent* evnt);
 
@@ -289,6 +260,35 @@ namespace qmapcontrol
           */
         void zoomChanged ( int zoom );
 
+    private:
+        LayerManager* layermanager;
+        QPoint screen_middle; // middle of the widget (half size)
+
+        QPoint pre_click_px; // used for scrolling (MouseMode Panning)
+        QPoint current_mouse_pos; // used for scrolling and dragging (MouseMode Panning/Dragging)
+
+        QSize size; // size of the widget
+
+        bool mousepressed;
+        MouseMode mymousemode;
+        bool scaleVisible;
+
+        bool m_loadingFlag;
+
+        QMutex moveMutex; // used for method moveTo()
+        QPointF target; // used for method moveTo()
+        int steps; // used for method moveTo()
+
+        QPointF clickToWorldCoordinate ( QPoint click );
+        MapControl& operator= ( const MapControl& rhs );
+        MapControl ( const MapControl& old );
+
+    protected:
+        void paintEvent ( QPaintEvent* evnt );
+        void mousePressEvent ( QMouseEvent* evnt );
+        void mouseReleaseEvent ( QMouseEvent* evnt );
+        void mouseMoveEvent ( QMouseEvent* evnt );
+
     public slots:
         //! zooms in one step
         void zoomIn();
diff --git a/frameworks/qt/3rdparty/qmapcontrol/maplayer.h b/frameworks/qt/3rdparty/qmapcontrol/maplayer.h
old mode 100644
new mode 100755
index 97b1701..0f35791
--- a/frameworks/qt/3rdparty/qmapcontrol/maplayer.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/maplayer.h
@@ -25,7 +25,7 @@
 
 #ifndef MAPLAYER_H
 #define MAPLAYER_H
-
+#include <qmapcontrolexport.h>
 #include "layer.h"
 
 namespace qmapcontrol
@@ -44,7 +44,7 @@ namespace qmapcontrol
      *
      *	@author Kai Winter <kaiwinter@gmx.de>
      */
-    class MapLayer : public Layer
+    class QMAPCONTROL_LINK_SYMBOL MapLayer : public Layer
     {
         Q_OBJECT
 
diff --git a/frameworks/qt/3rdparty/qmapcontrol/mapnetwork.h b/frameworks/qt/3rdparty/qmapcontrol/mapnetwork.h
old mode 100644
new mode 100755
index 9547f36..5b63061
--- a/frameworks/qt/3rdparty/qmapcontrol/mapnetwork.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/mapnetwork.h
@@ -25,7 +25,7 @@
 
 #ifndef MAPNETWORK_H
 #define MAPNETWORK_H
-
+#include <qmapcontrolexport.h>
 #include <QtCore/QObject>
 #include <QtCore/QDebug>
 #include <QtNetwork/QHttp>
@@ -38,7 +38,7 @@
 namespace qmapcontrol
 {
     class ImageManager;
-    class MapNetwork : QObject
+    class QMAPCONTROL_LINK_SYMBOL MapNetwork : QObject
     {
         Q_OBJECT
 
diff --git a/frameworks/qt/3rdparty/qmapcontrol/openaerialmapadapter.h b/frameworks/qt/3rdparty/qmapcontrol/openaerialmapadapter.h
old mode 100644
new mode 100755
index d49029c..ca5d086
--- a/frameworks/qt/3rdparty/qmapcontrol/openaerialmapadapter.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/openaerialmapadapter.h
@@ -25,7 +25,7 @@
 
 #ifndef OPENAERIALMAPADAPTER_H
 #define OPENAERIALMAPADAPTER_H
-
+#include <qmapcontrolexport.h>
 #include "tilemapadapter.h"
 namespace qmapcontrol
 {
@@ -34,7 +34,7 @@ namespace qmapcontrol
      * This is a conveniece class, which extends and configures a TileMapAdapter. Source of maps is http://www.openaerialmap.org/
      *	@author Kai Winter <kaiwinter@gmx.de>
      */
-    class OpenAerialMapAdapter : public TileMapAdapter
+    class QMAPCONTROL_LINK_SYMBOL OpenAerialMapAdapter : public TileMapAdapter
     {
         Q_OBJECT
                 public:
diff --git a/frameworks/qt/3rdparty/qmapcontrol/osmmapadapter.h b/frameworks/qt/3rdparty/qmapcontrol/osmmapadapter.h
old mode 100644
new mode 100755
index a139880..c0b0fee
--- a/frameworks/qt/3rdparty/qmapcontrol/osmmapadapter.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/osmmapadapter.h
@@ -25,7 +25,7 @@
 
 #ifndef OSMMAPADAPTER_H
 #define OSMMAPADAPTER_H
-
+#include <qmapcontrolexport.h>
 #include "tilemapadapter.h"
 namespace qmapcontrol
 {
@@ -34,7 +34,7 @@ namespace qmapcontrol
      * This is a conveniece class, which extends and configures a TileMapAdapter
      *	@author Kai Winter <kaiwinter@gmx.de>
      */
-    class OSMMapAdapter : public TileMapAdapter
+    class QMAPCONTROL_LINK_SYMBOL OSMMapAdapter : public TileMapAdapter
     {
         Q_OBJECT
                 public:
diff --git a/frameworks/qt/3rdparty/qmapcontrol/point.cpp b/frameworks/qt/3rdparty/qmapcontrol/point.cpp
old mode 100644
new mode 100755
index e1831be..45793a6
--- a/frameworks/qt/3rdparty/qmapcontrol/point.cpp
+++ b/frameworks/qt/3rdparty/qmapcontrol/point.cpp
@@ -144,8 +144,8 @@ namespace qmapcontrol
             int diffzoom = homelevel-currentzoom;
             int viewheight = size.height();
             int viewwidth = size.width();
-            viewheight = int(viewheight / pow(2, diffzoom));
-            viewwidth = int(viewwidth / pow(2, diffzoom));
+            viewheight = int(viewheight / pow(2.0, diffzoom));
+            viewwidth = int(viewwidth / pow(2.0, diffzoom));
 
             if (minsize.height()!= -1 && viewheight < minsize.height())
                 viewheight = minsize.height();
diff --git a/frameworks/qt/3rdparty/qmapcontrol/point.h b/frameworks/qt/3rdparty/qmapcontrol/point.h
old mode 100644
new mode 100755
index 23c5a82..ec863a6
--- a/frameworks/qt/3rdparty/qmapcontrol/point.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/point.h
@@ -26,7 +26,7 @@
 #ifndef POINT_H
 #define POINT_H
 #include <QtGui/QWidget>
-
+#include <qmapcontrolexport.h>
 #include "geometry.h"
 
 namespace qmapcontrol
@@ -54,7 +54,7 @@ namespace qmapcontrol
      *
      * @author Kai Winter <kaiwinter@gmx.de>
      */
-    class Point : public Geometry
+    class QMAPCONTROL_LINK_SYMBOL Point : public Geometry
     {
         Q_OBJECT
 
diff --git a/frameworks/qt/3rdparty/qmapcontrol/qmapcontrol.h b/frameworks/qt/3rdparty/qmapcontrol/qmapcontrol.h
old mode 100644
new mode 100755
index 167ff59..7c62364
--- a/frameworks/qt/3rdparty/qmapcontrol/qmapcontrol.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/qmapcontrol.h
@@ -13,3 +13,5 @@
 #include "yahoomapadapter.h"
 #include "googlemapadapter.h"
 #include "googlesatmapadapter.h"
+#include "openaerialmapadapter.h"
+#include "fixedimageoverlay.h"
\ No newline at end of file
diff --git a/frameworks/qt/3rdparty/qmapcontrol/tilemapadapter.cpp b/frameworks/qt/3rdparty/qmapcontrol/tilemapadapter.cpp
old mode 100644
new mode 100755
index e61cbc9..17d0e3b
--- a/frameworks/qt/3rdparty/qmapcontrol/tilemapadapter.cpp
+++ b/frameworks/qt/3rdparty/qmapcontrol/tilemapadapter.cpp
@@ -162,8 +162,8 @@ namespace qmapcontrol
             z= min_zoom - z;
         }
 
-        if (x<0 || x>pow(2,z)-1 ||
-            y<0 || y>pow(2,z)-1)
+        if (x<0 || x>pow(2.0,z)-1 ||
+            y<0 || y>pow(2.0,z)-1)
         {
             return false;
         }
@@ -172,7 +172,7 @@ namespace qmapcontrol
     }
     int TileMapAdapter::tilesonzoomlevel(int zoomlevel) const
     {
-        return int(pow(2, zoomlevel));
+        return int(pow(2.0, zoomlevel));
     }
     int TileMapAdapter::xoffset(int x) const
     {
diff --git a/frameworks/qt/3rdparty/qmapcontrol/tilemapadapter.h b/frameworks/qt/3rdparty/qmapcontrol/tilemapadapter.h
old mode 100644
new mode 100755
index 15c44d3..b3ed304
--- a/frameworks/qt/3rdparty/qmapcontrol/tilemapadapter.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/tilemapadapter.h
@@ -25,7 +25,7 @@
 
 #ifndef TILEMAPADAPTER_H
 #define TILEMAPADAPTER_H
-
+#include <qmapcontrolexport.h>
 #include "mapadapter.h"
 
 namespace qmapcontrol
@@ -35,7 +35,7 @@ namespace qmapcontrol
      * Use this derived MapAdapter to display maps from OpenStreetMap
      *	@author Kai Winter <kaiwinter@gmx.de>
      */
-    class TileMapAdapter : public MapAdapter
+    class QMAPCONTROL_LINK_SYMBOL TileMapAdapter : public MapAdapter
     {
         Q_OBJECT
                 public:
diff --git a/frameworks/qt/3rdparty/qmapcontrol/wmsmapadapter.cpp b/frameworks/qt/3rdparty/qmapcontrol/wmsmapadapter.cpp
old mode 100644
new mode 100755
index 96fa4fe..c6441a9
--- a/frameworks/qt/3rdparty/qmapcontrol/wmsmapadapter.cpp
+++ b/frameworks/qt/3rdparty/qmapcontrol/wmsmapadapter.cpp
@@ -47,7 +47,7 @@ namespace qmapcontrol
         this->serverPath.append("&WIDTH=").append(loc.toString(tilesize))
                 .append("&HEIGHT=").append(loc.toString(tilesize))
                 .append("&BBOX=");
-        numberOfTiles = pow(2, current_zoom);
+        numberOfTiles = pow(2.0, current_zoom);
         coord_per_x_tile = 360. / numberOfTiles;
         coord_per_y_tile = 180. / numberOfTiles;
     }
@@ -72,14 +72,14 @@ namespace qmapcontrol
     void WMSMapAdapter::zoom_in()
     {
         current_zoom+=1;
-        numberOfTiles = pow(2, current_zoom);
+        numberOfTiles = pow(2.0, current_zoom);
         coord_per_x_tile = 360. / numberOfTiles;
         coord_per_y_tile = 180. / numberOfTiles;
     }
     void WMSMapAdapter::zoom_out()
     {
         current_zoom-=1;
-        numberOfTiles = pow(2, current_zoom);
+        numberOfTiles = pow(2.0, current_zoom);
         coord_per_x_tile = 360. / numberOfTiles;
         coord_per_y_tile = 180. / numberOfTiles;
     }
diff --git a/frameworks/qt/3rdparty/qmapcontrol/wmsmapadapter.h b/frameworks/qt/3rdparty/qmapcontrol/wmsmapadapter.h
old mode 100644
new mode 100755
index 42fd5fb..b7041bd
--- a/frameworks/qt/3rdparty/qmapcontrol/wmsmapadapter.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/wmsmapadapter.h
@@ -25,7 +25,7 @@
 
 #ifndef WMSMAPADAPTER_H
 #define WMSMAPADAPTER_H
-
+#include <qmapcontrolexport.h>
 #include "mapadapter.h"
 
 namespace qmapcontrol
@@ -35,7 +35,7 @@ namespace qmapcontrol
      * Use this derived MapAdapter to display maps from WMS servers
      *	@author Kai Winter <kaiwinter@gmx.de>
      */
-    class WMSMapAdapter : public MapAdapter
+    class QMAPCONTROL_LINK_SYMBOL WMSMapAdapter : public MapAdapter
     {
     public:
         //! constructor
diff --git a/frameworks/qt/3rdparty/qmapcontrol/yahoomapadapter.cpp b/frameworks/qt/3rdparty/qmapcontrol/yahoomapadapter.cpp
old mode 100644
new mode 100755
index 863d7c2..b264080
--- a/frameworks/qt/3rdparty/qmapcontrol/yahoomapadapter.cpp
+++ b/frameworks/qt/3rdparty/qmapcontrol/yahoomapadapter.cpp
@@ -30,13 +30,13 @@ namespace qmapcontrol
         : TileMapAdapter("png.maps.yimg.com", "/png?v=3.1.0&x=%2&y=%3&z=%1", 256, 17,0)
     {
         int zoom = max_zoom < min_zoom ? min_zoom - current_zoom : current_zoom;
-        numberOfTiles = pow(2, zoom+1);
+        numberOfTiles = pow(2.0, zoom+1);
     }
     YahooMapAdapter::YahooMapAdapter(QString host, QString url)
         : TileMapAdapter(host, url, 256, 17,0)
     {
         int zoom = max_zoom < min_zoom ? min_zoom - current_zoom : current_zoom;
-        numberOfTiles = pow(2, zoom+1);
+        numberOfTiles = pow(2.0, zoom+1);
     }
     YahooMapAdapter::~YahooMapAdapter()
     {
@@ -49,14 +49,14 @@ namespace qmapcontrol
 
     int YahooMapAdapter::tilesonzoomlevel(int zoomlevel) const
     {
-        return int(pow(2, zoomlevel+1));
+        return int(pow(2.0, zoomlevel+1));
     }
 
     int YahooMapAdapter::yoffset(int y) const
     {
         int zoom = max_zoom < min_zoom ? min_zoom - current_zoom : current_zoom;
 
-        int tiles = int(pow(2, zoom));
+        int tiles = int(pow(2.0, zoom));
         y = y*(-1)+tiles-1;
         return int(y);
     }
diff --git a/frameworks/qt/3rdparty/qmapcontrol/yahoomapadapter.h b/frameworks/qt/3rdparty/qmapcontrol/yahoomapadapter.h
old mode 100644
new mode 100755
index ae03bba..547c639
--- a/frameworks/qt/3rdparty/qmapcontrol/yahoomapadapter.h
+++ b/frameworks/qt/3rdparty/qmapcontrol/yahoomapadapter.h
@@ -25,7 +25,7 @@
 
 #ifndef YAHOOMAPADAPTER_H
 #define YAHOOMAPADAPTER_H
-
+#include <qmapcontrolexport.h>
 #include "tilemapadapter.h"
 
 namespace qmapcontrol
@@ -34,7 +34,7 @@ namespace qmapcontrol
     /*!
      *	@author Kai Winter <kaiwinter@gmx.de>
      */
-    class YahooMapAdapter : public TileMapAdapter
+    class QMAPCONTROL_LINK_SYMBOL YahooMapAdapter : public TileMapAdapter
     {
         Q_OBJECT
 
diff --git a/frameworks/qt/plugins/canvas/dmzQtPluginCanvasMap.cpp b/frameworks/qt/plugins/canvas/dmzQtPluginCanvasMap.cpp
old mode 100644
new mode 100755
index f10c23f..ff853bc
--- a/frameworks/qt/plugins/canvas/dmzQtPluginCanvasMap.cpp
+++ b/frameworks/qt/plugins/canvas/dmzQtPluginCanvasMap.cpp
@@ -1,4 +1,3 @@
-#include <dmzQtMapUtil.h>
 #include <dmzQtModuleCanvas.h>
 #include <dmzQtModuleMap.h>
 #include "dmzQtPluginCanvasMap.h"
